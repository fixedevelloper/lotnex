(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3013],{32398:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var a=n(22944),l=n(2062);class r extends l.R{constructor(...e){super(...e),this.getProgram=e=>(0,a.r)("get",this.path,e),this.getLevel=e=>(0,a.r)("get",`${this.path}/level`,e)}}const s=new r("/program")},21844:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var a=n(22944),l=n(2062);class r extends l.R{constructor(...e){super(...e),this.getTransactionHistory=e=>(0,a.r)("get",`${this.path}/history`,e),this.getTransactionStatistics=e=>(0,a.r)("get",`${this.path}/statistics`,e)}}const s=new r("/transactions")},87903:function(e,t,n){"use strict";n.d(t,{wP:function(){return l},vk:function(){return r},NZ:function(){return s},L6:function(){return i},k4:function(){return o},M6:function(){return m},B1:function(){return c},z_:function(){return u},zf:function(){return d},JI:function(){return f},Xf:function(){return v},bS:function(){return p},AD:function(){return g},y:function(){return h},cN:function(){return b},Y6:function(){return x},eI:function(){return w},nq:function(){return E},zN:function(){return y},OI:function(){return N},tr:function(){return k}});var a=n(5152);const l=(0,a.default)((()=>n.e(5930).then(n.bind(n,15930)).then((e=>e.AccountInfo)))),r=(0,a.default)((()=>n.e(5199).then(n.bind(n,85199)).then((e=>e.AccountPrograms)))),s=(0,a.default)((()=>n.e(8882).then(n.bind(n,18882)).then((e=>e.Profile)))),i=(0,a.default)((()=>n.e(7821).then(n.bind(n,17821)).then((e=>e.AmbassadorBanner)))),o=(0,a.default)((()=>n.e(7376).then(n.bind(n,67376)).then((e=>e.SocialAchievements)))),m=(0,a.default)((()=>Promise.resolve().then(n.bind(n,43800)).then((e=>e.RecentActivities)))),c=(0,a.default)((()=>n.e(6714).then(n.bind(n,16714)).then((e=>e.ProgramCard)))),u=(0,a.default)((()=>n.e(9751).then(n.bind(n,9751)).then((e=>e.MatrixInfoModal)))),d=(0,a.default)((()=>Promise.resolve().then(n.bind(n,20236)).then((e=>e.BuyProgramModal)))),f=(0,a.default)((()=>n.e(2487).then(n.bind(n,52487)).then((e=>e.ProfileModal)))),v=(0,a.default)((()=>n.e(5949).then(n.bind(n,85949)).then((e=>e.SocialBlock)))),p=(0,a.default)((()=>Promise.all([n.e(7536),n.e(7866)]).then(n.bind(n,67866)).then((e=>e.MainForm)))),g=(0,a.default)((()=>n.e(9952).then(n.bind(n,79952)).then((e=>e.LevelRender)))),h=(0,a.default)((()=>n.e(4994).then(n.bind(n,74994)).then((e=>e.InfoCarousel)))),b=(0,a.default)((()=>Promise.resolve().then(n.bind(n,7760)).then((e=>e.NotifybotBanner)))),x=(0,a.default)((()=>n.e(1087).then(n.bind(n,11087)).then((e=>e.EventsTable)))),w=(0,a.default)((()=>n.e(1422).then(n.bind(n,61422)).then((e=>e.ProgramLevel)))),E=(0,a.default)((()=>n.e(1319).then(n.bind(n,21319)).then((e=>e.LevelsCarousel)))),y=(0,a.default)((()=>n.e(4302).then(n.bind(n,74302)).then((e=>e.ProgramInfo)))),N=(0,a.default)((()=>n.e(8316).then(n.bind(n,8316)).then((e=>e.SchoolAlert)))),k=(0,a.default)((()=>Promise.all([n.e(296),n.e(9464),n.e(9034)]).then(n.bind(n,49034)).then((e=>e.PartnersHistory))))},7183:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var a=n(67294);const l=({children:e})=>{const t=()=>a.createElement(a.Fragment,null,a.createElement("img",{src:"/maxQoreGame/initPage/bg-item-1.png",className:"absolute max-w-[5%] sm:max-w-[7.5%] w-full top-[10%] sm:top-[25%] left-[20%] floating-animation",alt:""}),a.createElement("img",{src:"/maxQoreGame/initPage/bg-item-2.png",className:"absolute max-w-[7.5%] sm:max-w-[10%] w-full top-[50%] sm:top-[35%] right-0 sm:right-[25%] floating-animation",alt:""}),a.createElement("img",{src:"/maxQoreGame/initPage/bg-item-3.png",className:"absolute max-w-[30%] sm:max-w-[20%] w-full top-0 right-1.5 floating-animation ",alt:""}),a.createElement("img",{src:"/maxQoreGame/initPage/bg-item-4.png",className:"absolute sm:max-w-[30%] top-[50%] left-[5%] floating-animation",alt:""}));return a.createElement("div",{className:"relative overflow-hidden w-full h-[80vh] flex-grow rounded-small bg-main-bg flex justify-center",style:{backgroundImage:"url('/game/ui/preview_bg.png')",backgroundSize:"cover"}},a.createElement("div",{className:"flex w-full relative sm:hidden"},a.createElement("img",{src:"/game/runner/ui/menu_foreground.png",className:"max-h-[65%] absolute bottom-[-15%] ml-auto mr-auto transform -translate-x-1/2 left-1/2 "}),t()),a.createElement("div",{className:"flex flex-col w-full flex-grow relative justify-center items-center py-6 sm:py-2.5"},a.createElement("div",{className:"hidden sm:flex sm:mt-auto"},a.createElement("div",{className:"h-[120px] relative"},a.createElement("img",{src:"/game/runner/ui/menu_foreground.png",className:"h-[115px] ml-auto mr-auto "}))),e,a.createElement("div",{className:"hidden sm:flex"},t())))}},81055:function(e,t,n){"use strict";n.r(t);var a=n(67294),l=n(11163),r=n(64522),s=n(54815),i=n(30113),o=n(32398),m=n(21844),c=n(50111),u=n(47007),d=n(12171),f=n(18319),v=n(76457),p=n(65837),g=n(61033),h=n(17334),b=n(70131),x=n(87903),w=n(69336),E=n(77985),y=n(5152),N=n(7183),k=n(39404),_=(n(12456),n(98130),n(313));function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var P=function(e){return a.createElement("svg",e,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 17.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15Zm0-11.334a.5.5 0 0 1 .5.5V10a.5.5 0 0 1-1 0V6.667a.5.5 0 0 1 .5-.5Zm0 6.668a.5.5 0 0 0 0 1h.01a.5.5 0 0 0 0-1H10Z"}))};P.defaultProps={width:"24",height:"24",viewBox:"0 0 20 20",fill:"#E1444D",xmlns:"http://www.w3.org/2000/svg"};var M=function(e){return a.createElement("svg",e,a.createElement("path",{d:"M404.93 74.55c10.89 2.1 31.79 8.75 31.79 8.75l-4.86-14a5.43 5.43 0 0 0-6.93-3.32Zm96 45.84a12.16 12.16 0 0 1-2.55 7.27c-24.08 27.85-33.4 55.08-33.4 55.08C210.15 133.21 156.44 338 156.44 338c-6.48-68 9.36-119.77 36.69-158.34-104.42 37.58-173.88 105-173.88 105s27-99.31 112.74-165.23C86.89 121.5 41.8 129.38 0 146c0 0 104.05-123.69 328.47-106.57C332.34 13.92 353.58 0 353.58 0 359 43 416 40.79 436 50.28A70.49 70.49 0 0 1 442.17 63c4.12 11.33 1.72 15.4 12.6 20.58l35.09 17.86c1.15.62 3.3 2.1 3.35 2.1a19.55 19.55 0 0 1 7.79 16.85Z",fillRule:"evenodd"}))};M.defaultProps={"data-name":"puma full",fill:"#406aff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 501 338"};var L=function(e){return a.createElement("svg",e,a.createElement("path",{d:"M18 6 6 18M6 6l12 12",strokeLinecap:"round",strokeLinejoin:"round"}))};L.defaultProps={viewBox:"0 0 24 24",fill:"none",stroke:"#fff",xmlns:"http://www.w3.org/2000/svg"};var R=function(e){return a.createElement("svg",e,a.createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},a.createElement("circle",{cx:"22",cy:"22",r:"1"},a.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),a.createElement("circle",{cx:"22",cy:"22",r:"1"},a.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))};R.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44",stroke:"#fff"};var O=function(e){return a.createElement("svg",e,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.834 10.833a5.833 5.833 0 1 1-11.667 0 5.833 5.833 0 0 1 11.667 0Zm-5.334-2.5a.5.5 0 0 0-1 0v2.5a.5.5 0 0 0 .5.5h1.667a.5.5 0 0 0 0-1H10.5v-2Z",fill:"#fff"}),a.createElement("path",{d:"M5.834 3.333 3.542 5M14.167 3.333 16.459 5",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round"}))};O.defaultProps={viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};(0,y.default)((()=>Promise.all([n.e(989),n.e(2222),n.e(874)]).then(n.bind(n,12409)).then((e=>e.ProgramStateGame))),{ssr:!1,loading:()=>a.createElement("div",{className:"min-h-[80vh] flex overflow-hidden relative w-full flex-col bg-black-light rounded p-7.5 pb-5 sm:p-5 sm:pl-2.5 sm:pr-2.5 sm:rounded-none "},a.createElement(N.r,null,a.createElement("div",{className:"flex flex-col items-center justify-center space-y-5 mt-2.5 sm:mb-auto"},a.createElement(R,{className:"w-10 h-10"}),a.createElement("span",{className:"text-[#3FDE7E] font-medium text-3xl"},"Loading"))))});const C=a.createElement("div",{className:"m-1 sm:m-0.5 relative"},a.createElement(p.TextRow,{color:"rgba(0,0,0, 0.4)",className:"flex items-center justify-center rounded-md",style:{width:180,height:180}}),a.createElement(M,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-30 h-30 sm:w-20 sm:h-20 fill-current text-white-50"}));t.default=()=>{const{query:e,push:t}=(0,l.useRouter)(),{getContract:n}=(0,w.X)(),{account:p}=(0,E.useWeb3React)(),[y,M]=(0,a.useState)(null),R=(0,a.useRef)(!0),[O,S]=(0,a.useState)(!0),X=(0,u.v9)(c.nX),[A,D]=(0,a.useState)(0),[Q,B]=(0,a.useState)(1),I=(0,u.v9)(c.jL),T=e.program===d.pj.XQORE||e.program===d.pj.MAXQORE?"BNB":"BUSD",z=e.program===d.pj.MAXQORE,[Z,$]=(0,a.useState)(!(0,_.Z)(new Date,new Date(d.yB))),G=!1,U={[e.program]:{title:`${(e=>{const t=e.split(""),n=e[0].toUpperCase(),a=[...t];a.splice(0,1);return[n,...a].join("")})(e.program)}`,activeClass:""},game:{title:"Game",activeClass:"text-[#3FDE7E]"}},F=!!new URLSearchParams(window.location.search).get("openTab"),[V,H]=(0,a.useState)(F?Object.keys(U)[1]:Object.keys(U)[0]),Y=V===Object.keys(U)[0],q=V===Object.keys(U)[1],{ref:W,inView:J}=(0,b.YD)({threshold:0}),K=!(null===e||void 0===e||!e.user),ee=e.user?e.user:null===X||void 0===X?void 0:X.id;(0,a.useEffect)((()=>{e.program===d.pj.MAXQORE&&p&&!K&&(async()=>{try{const e=await n(d.Cd.MAXQORE),t=await e.findNextUserLevel(K?I.address:p);M(t)}catch(e){console.log(e,"e")}})()}),[e.program,p,K]);const{data:te,call:ne,isLoading:ae,isDone:le}=(0,s.Q)(o.y.getProgram,[{user:ee,matrix_title:e.program}]),re=(0,a.useMemo)((()=>Object.entries((null===te||void 0===te?void 0:te.programs)||{}).reduce(((e,t)=>[...e,[t[0],{...t[1],active:t[1].active||y>t[1].level||t[1].level<=t[1].max_active_level}]]),[])),[te,y]),se=(0,a.useMemo)((()=>re.findIndex((([,e])=>!e.active))),[re]),{data:ie,call:oe,isLoading:me}=(0,s.Q)(k.R.getUserPlace,[{user_id:ee}]),{data:ce,call:ue,isLoading:de,resetData:fe}=(0,s.Q)(k.R.getLeaderboard,[{page_size:10,page_number:Q,week:3}],((e,t)=>{var n;return null!==(n=Object.keys(e))&&void 0!==n&&n.length?{...t,list:[...null===e||void 0===e?void 0:e.list,...null===t||void 0===t?void 0:t.list]}:t}));(0,a.useEffect)((()=>{0}),[ee,z,G,K]),(0,a.useEffect)((()=>{z&&!Y&G&&(fe(),ue())}),[z,Y,G]);const ve=(0,a.useMemo)((()=>null),[ie,z,me,G,K]),{isLoading:pe,call:ge,data:he,resetData:be}=(0,s.Q)(m.z.getTransactionHistory,[],((e,t)=>{var n;return null!==(n=Object.keys(e))&&void 0!==n&&n.length?{...t,elements:[...null===e||void 0===e?void 0:e.elements,...null===t||void 0===t?void 0:t.elements]}:t}),O,S,J),xe={user:ee,program:null===e||void 0===e?void 0:e.program,limit:9};(0,a.useEffect)((()=>{ee&&ne()}),[e,ee]),(0,a.useEffect)((()=>{if(ee){const e=(0,g.X)({[h.L.CLOSE_MODAL_PROGRAM_LEVEL]:ne});return()=>{e()}}}),[ee]),(0,a.useEffect)((()=>{O&&J&&R.current&&ee&&Y&&(be(),D(0),ge([{...xe,offset:0}]),R.current=!1)}),[null===e||void 0===e?void 0:e.level,ee,J,Y]),(0,a.useEffect)((()=>{A&&Y&&ge([{...xe,offset:A}])}),[A,Y]);const we={title:`Forsage ${e.program}`,links:[{href:e.user?(0,i.E)("/dashboard",{user:null===e||void 0===e?void 0:e.user}):"/dashboard",title:`ID ${ee}`}]},Ee=()=>{var e;pe||A<(null===he||void 0===he||null===(e=he.elements)||void 0===e?void 0:e.length)&&D(A+9)},ye={[d.pj.X3]:"/blurs/program/blue-blur.png",[d.pj.X4]:"/blurs/program/purple-blur.png",[d.pj.XXX]:"/blurs/program/pink-blur.png",[d.pj.XGOLD]:"/blurs/program/gold-blur.png",[d.pj.XQORE]:"/blurs/program/tiffany-blur.png",[d.pj.MAXQORE]:"/blurs/program/green-blur.png"},Ne={backgroundImage:`url('${null===ye||void 0===ye?void 0:ye[e.program]}')`,backgroundRepeat:"round",backgroundSize:"cover"},ke=(0,a.useMemo)((()=>{var t,n;const l=null===(t=d.vv.find((t=>t.name===e.program)))||void 0===t?void 0:t.slots;return a.createElement("div",{className:"flex z-10 flex-wrap -m-2 sm:-mx-px mb-7.5 sm:justify-around"},null===(n=!ae&&le?re:l)||void 0===n?void 0:n.map(((t,n)=>{const l=t[0],s=t[1];return a.createElement(v.Z,{key:l,ready:!ae&&le,showLoadingAnimation:!0,customPlaceholder:C},a.createElement(r.eI,j({isFirstUnactive:0===n,isLastUnactive:n===se,programName:e.program,level:l},s)))})))}),[te,e,le,ae]),_e=(0,a.useMemo)((()=>({active_levels:null===te||void 0===te?void 0:te.active_levels,total_revenue:null===te||void 0===te?void 0:te.total_revenue,total_missed_revenue:null===te||void 0===te?void 0:te.total_missed_revenue})),[te]),[je,Pe]=(0,a.useState)(!0),Me=()=>{Pe(!1)},Le=(0,a.useMemo)((()=>Y?a.createElement("div",{className:"flex overflow-hidden relative w-full flex-col bg-black-light rounded p-7.5 pb-5 sm:p-5 sm:pl-2.5 sm:pr-2.5 sm:rounded-none ",style:Ne},!(null===_e||void 0===_e||!_e.total_missed_revenue)&&a.createElement("div",{className:"flex w-full sm:px-5 pb-5 "+(je?"flex":"hidden")},a.createElement("div",{className:"flex w-full rounded-xl p-5 bg-[#211D1D] items-center justify-center relative"},a.createElement(P,null),a.createElement("span",{className:"text-red text-base ml-2.5 font-light"},a.createElement("span",{className:"font-medium"},(0,f.wV)(null===_e||void 0===_e?void 0:_e.total_missed_revenue)," ",T)," ","in total missed. Activate next levels to catch up with your partners"),a.createElement("button",{onClick:Me,className:"w-[40px] h-[40px] bg-white-100 absolute right-4 rounded-full flex items-center justify-center"},a.createElement(L,{className:"w-6 h-6 cursor-pointer"})))),ke,a.createElement(x.tr,{program:null===e||void 0===e?void 0:e.program})):z&&!Y?K?a.createElement("div",{className:"min-h-[810px] sm:min-h-[70vh] flex overflow-hidden relative w-full flex-col bg-black-light rounded p-7.5 pb-5 sm:p-5 sm:pl-2.5 sm:pr-2.5 sm:rounded-none "},a.createElement(N.r,null,a.createElement("div",{className:"flex flex-col items-center justify-center space-y-5 mt-2.5 sm:mb-auto z-[30]"},a.createElement("div",{className:"flex flex-col space-y-1 text-center max-w-[85%]"},a.createElement("span",{className:"text-white font-semibold text-2xl sm:text-lg"},"The game is available in\xa0authorized mode"),a.createElement("span",{className:"text-white text-base"},"Please login to your account")),a.createElement(r.zx,{onClick:()=>t("/"),type:"buyChances",className:"min-w-[200px]"},"Login")))):a.createElement("div",{className:"min-h-[80vh] flex overflow-hidden relative w-full flex-col bg-black-light rounded p-7.5 pb-5 sm:p-5 sm:pl-2.5 sm:pr-2.5 sm:rounded-none "},a.createElement(N.r,null,a.createElement("div",{className:"flex flex-col items-center justify-center text-white font-medium text-3xl mt-2.5 sm:mb-auto"},a.createElement("img",{className:"max-w-[400px] sm:z-[40] sm:max-w-[85%]",src:"/gameMaxQore/pauseGame.png",alt:""})))):void 0),[z,G,te,ye,_e,Y,T,ke]),Re=(0,a.useMemo)((()=>{var t;return Y?a.createElement(x.Y6,{intersectionRef:W,program:null===e||void 0===e?void 0:e.program,className:"sm:rounded-none",isLoading:pe,events:he,addItems:Ee,hideBtn:A>(null===he||void 0===he||null===(t=he.elements)||void 0===t?void 0:t.length)}):null}),[pe,he,A,de,ce,Q,Y]);return a.createElement("div",{className:"flex flex-col "+(z?"space-y-5 sm:space-y-2.5":"space-y-10 sm:space-y-7.5")},a.createElement("div",{className:"flex flex-wrap justify-between notranslate "},a.createElement(x.OI,{isAllowToShow:Y,programName:e.program}),a.createElement(r.bu,j({},we,{levels:_e.active_levels}),a.createElement("div",{className:"flex flex-col items-end"},a.createElement("div",{className:"self-end text-two-half text-white font-bold sm:text-2xl whitespace-nowrap"},(0,f.wV)(_e.total_revenue)," ",T),ve))),a.createElement("div",null,z&&a.createElement("div",{className:"h-[50px] relative"},a.createElement("div",{className:"w-full h-[70px] flex justify-between absolute bottom-[-20px]"},Object.keys(U).map(((e,t)=>{var n,l;const r=e===V,s=1!==t||r?"":"animate-pulse font-medium";return a.createElement("button",{onClick:()=>H(e),key:t,className:(r?"bg-black-light":"bg-main")+" flex items-start justify-center w-full pt-3 rounded-t-[20px] "},a.createElement("span",{className:`relative ${r?"font-normal":"font-light"} text-white ${null===U||void 0===U||null===(n=U[e])||void 0===n?void 0:n.activeClass} ${s} text-xl`},null===U||void 0===U||null===(l=U[e])||void 0===l?void 0:l.title))})))),Le),q&&z?null:a.createElement(x.cN,{type:"main"}),Re)}},44536:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/[program]",function(){return n(81055)}])}},function(e){e.O(0,[9774,3145,2888,179],(function(){return t=44536,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
