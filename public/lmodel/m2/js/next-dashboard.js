(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026,3145],{98771:function(e,t,n){"use strict";t.default=function(e,t){let n=r.default,i={loading:({error:e,isLoading:t,pastDelay:n})=>null};e instanceof Promise?i.loader=()=>e:"function"===typeof e?i.loader=e:"object"===typeof e&&(i={...i,...e});i={...i,...t};const s=i;if(s.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(s.suspense)return n(s);i.loadableGenerated&&(i={...i,...i.loadableGenerated},delete i.loadableGenerated);if("boolean"===typeof i.ssr){if(!i.ssr)return delete i.ssr,o(n,i);delete i.ssr}return n(i)};i(n(67294));var r=i(n(54860));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return delete t.webpack,delete t.modules,e(t)}},91083:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;const i=((r=n(67294))&&r.__esModule?r:{default:r}).default.createContext(null);t.LoadableContext=i},54860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(67294))&&r.__esModule?r:{default:r},o=n(67161),s=n(91083);const a=[],l=[];let u=!1;function d(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((e=>(n.loading=!1,n.loaded=e,e))).catch((e=>{throw n.loading=!1,n.error=e,e})),n}class c{constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};const{_res:e,_opts:t}=this;e.loading&&("number"===typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout((()=>{this._update({pastDelay:!0})}),t.delay)),"number"===typeof t.timeout&&(this._timeout=setTimeout((()=>{this._update({timedOut:!0})}),t.timeout))),this._res.promise.then((()=>{this._update({}),this._clearTimeouts()})).catch((e=>{this._update({}),this._clearTimeouts()})),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach((e=>e()))}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}}function h(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);n.suspense&&(n.lazy=i.default.lazy(n.loader));let r=null;function a(){if(!r){const t=new c(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!u&&"function"===typeof n.webpack&&!n.suspense){const e=n.webpack();l.push((t=>{for(const n of e)if(-1!==t.indexOf(n))return a()}))}const d=n.suspense?function(e,t){return i.default.createElement(n.lazy,{...e,ref:t})}:function(e,t){a();const l=i.default.useContext(s.LoadableContext),u=o.useSubscription(r);return i.default.useImperativeHandle(t,(()=>({retry:r.retry})),[]),l&&Array.isArray(n.modules)&&n.modules.forEach((e=>{l(e)})),i.default.useMemo((()=>u.loading||u.error?i.default.createElement(n.loading,{isLoading:u.loading,pastDelay:u.pastDelay,timedOut:u.timedOut,error:u.error,retry:r.retry}):u.loaded?i.default.createElement(function(e){return e&&e.__esModule?e.default:e}(u.loaded),e):null),[e,u])};return d.preload=()=>!n.suspense&&a(),d.displayName="LoadableComponent",i.default.forwardRef(d)}(d,e)}function f(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then((()=>{if(e.length)return f(e,t)}))}h.preloadAll=()=>new Promise(((e,t)=>{f(a).then(e,t)})),h.preloadReady=(e=[])=>new Promise((t=>{const n=()=>(u=!0,t());f(l,e).then(n,n)})),window.__NEXT_PRELOADREADY=h.preloadReady;var p=h;t.default=p},38822:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(2062),i=n(22944);class o extends r.R{constructor(...e){super(...e),this.getRecentActivities=e=>(0,i.r)("get",`${this.path}/recent-activities`,e)}}const s=new o("/activities")},91050:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(22944),i=n(2062);class o extends i.R{constructor(...e){super(...e),this.getXXX=e=>(0,r.r)("get",`${this.path}/xxx`,e),this.getXGold=e=>(0,r.r)("get",`${this.path}/xgold`,e),this.getXQore=e=>(0,r.r)("get",`${this.path}/xqore`,e),this.getStatistics=e=>(0,r.r)("get",this.path,e)}}const s=new o("/total-statistics")},87903:function(e,t,n){"use strict";n.d(t,{wP:function(){return i},vk:function(){return o},NZ:function(){return s},L6:function(){return a},k4:function(){return l},M6:function(){return u},B1:function(){return d},z_:function(){return c},zf:function(){return h},JI:function(){return f},Xf:function(){return p},bS:function(){return v},AD:function(){return b},y:function(){return y},cN:function(){return g},Y6:function(){return m},eI:function(){return _},nq:function(){return w},zN:function(){return k},OI:function(){return V},tr:function(){return E}});var r=n(5152);const i=(0,r.default)((()=>n.e(5930).then(n.bind(n,15930)).then((e=>e.AccountInfo)))),o=(0,r.default)((()=>n.e(5199).then(n.bind(n,85199)).then((e=>e.AccountPrograms)))),s=(0,r.default)((()=>n.e(8882).then(n.bind(n,18882)).then((e=>e.Profile)))),a=(0,r.default)((()=>n.e(7821).then(n.bind(n,17821)).then((e=>e.AmbassadorBanner)))),l=(0,r.default)((()=>n.e(7376).then(n.bind(n,67376)).then((e=>e.SocialAchievements)))),u=(0,r.default)((()=>Promise.resolve().then(n.bind(n,43800)).then((e=>e.RecentActivities)))),d=(0,r.default)((()=>n.e(6714).then(n.bind(n,16714)).then((e=>e.ProgramCard)))),c=(0,r.default)((()=>n.e(9751).then(n.bind(n,9751)).then((e=>e.MatrixInfoModal)))),h=(0,r.default)((()=>Promise.resolve().then(n.bind(n,20236)).then((e=>e.BuyProgramModal)))),f=(0,r.default)((()=>n.e(2487).then(n.bind(n,52487)).then((e=>e.ProfileModal)))),p=(0,r.default)((()=>n.e(5949).then(n.bind(n,85949)).then((e=>e.SocialBlock)))),v=(0,r.default)((()=>Promise.all([n.e(7536),n.e(7866)]).then(n.bind(n,67866)).then((e=>e.MainForm)))),b=(0,r.default)((()=>n.e(9952).then(n.bind(n,79952)).then((e=>e.LevelRender)))),y=(0,r.default)((()=>n.e(4994).then(n.bind(n,74994)).then((e=>e.InfoCarousel)))),g=(0,r.default)((()=>Promise.resolve().then(n.bind(n,7760)).then((e=>e.NotifybotBanner)))),m=(0,r.default)((()=>n.e(1087).then(n.bind(n,11087)).then((e=>e.EventsTable)))),_=(0,r.default)((()=>n.e(1422).then(n.bind(n,61422)).then((e=>e.ProgramLevel)))),w=(0,r.default)((()=>n.e(1319).then(n.bind(n,21319)).then((e=>e.LevelsCarousel)))),k=(0,r.default)((()=>n.e(4302).then(n.bind(n,74302)).then((e=>e.ProgramInfo)))),V=(0,r.default)((()=>n.e(8316).then(n.bind(n,8316)).then((e=>e.SchoolAlert)))),E=(0,r.default)((()=>Promise.all([n.e(296),n.e(9464),n.e(9034)]).then(n.bind(n,49034)).then((e=>e.PartnersHistory))))},68786:function(e,t,n){"use strict";n.r(t);var r=n(67294),i=n(64593),o=n(70131),s=n(38822),a=n(54815),l=n(91050),u=n(87903);t.default=()=>{var e;const[t,n]=(0,r.useState)(0),[d,c]=(0,r.useState)(!0),[h,f]=(0,r.useState)(!0),{ref:p,inView:v}=(0,o.YD)({threshold:0}),{isLoading:b,call:y,data:g}=(0,a.Q)(s.W.getRecentActivities,[{limit:11,offset:t,count_hours:1}],((e,t)=>{var n;return null!==(n=Object.keys(e))&&void 0!==n&&n.length?{...t,activities:[...null===e||void 0===e?void 0:e.activities,...null===t||void 0===t?void 0:t.activities]}:t}),d,c,v),{data:m,call:_}=(0,a.Q)(l.h.getStatistics,[],((e,t)=>t),h,f,v);(0,r.useEffect)((()=>{d&&y(),h&&_()}),[v]),(0,r.useEffect)((async()=>{t>=11&&y()}),[t]);return r.createElement("div",{className:"flex flex-col w-full space-y-10 sm:space-y-5"},r.createElement(i.q,null,r.createElement("title",null,"Dashboard | Forsage")),r.createElement(u.NZ,null),r.createElement(u.wP,null),r.createElement(u.k4,null),r.createElement(u.vk,null),r.createElement(u.L6,null),r.createElement(u.M6,{recentActivitiesRef:p,events:{activities:null===g||void 0===g?void 0:g.activities,...m},addItems:()=>{t<=(null===g||void 0===g?void 0:g.total_count_activities)&&n(t+11)},isLoading:b,hiddenBtn:(null===g||void 0===g?void 0:g.total_count_activities)<=(null===g||void 0===g||null===(e=g.activities)||void 0===e?void 0:e.length)}))}},88691:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(68786)}])},5152:function(e,t,n){e.exports=n(98771)},70131:function(e,t,n){"use strict";n.d(t,{YD:function(){return v}});var r=n(67294);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=new Map,a=new WeakMap,l=0,u=void 0;function d(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(a.has(n)||(l+=1,a.set(n,l.toString())),a.get(n)):"0":e[t]);var n})).toString()}function c(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=u),"undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=function(e){var t=d(e),n=s.get(t);if(!n){var r,i=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var n,o=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((function(e){e(o,t)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},s.set(t,n)}return n}(n),a=o.id,l=o.observer,c=o.elements,h=c.get(e)||[];return c.has(e)||c.set(e,h),h.push(t),l.observe(e),function(){h.splice(h.indexOf(t),1),0===h.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),s.delete(a))}}var h=["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function f(e){return"function"!==typeof e.children}var p=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),f(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var a=s.prototype;return a.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},a.componentWillUnmount=function(){this.unobserve(),this.node=null},a.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,o=e.delay,s=e.fallbackInView;this._unobserveCb=c(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:o},s)}},a.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},a.render=function(){if(!f(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var o=this.props,s=o.children,a=o.as,l=o.tag,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(o,h);return r.createElement(a||l||"div",i({ref:this.handleNode},u),s)},s}(r.Component);function v(e){var t=void 0===e?{}:e,n=t.threshold,i=t.delay,o=t.trackVisibility,s=t.rootMargin,a=t.root,l=t.triggerOnce,u=t.skip,d=t.initialInView,h=t.fallbackInView,f=r.useRef(),p=r.useState({inView:!!d}),v=p[0],b=p[1],y=r.useCallback((function(e){void 0!==f.current&&(f.current(),f.current=void 0),u||e&&(f.current=c(e,(function(e,t){b({inView:e,entry:t}),t.isIntersecting&&l&&f.current&&(f.current(),f.current=void 0)}),{root:a,rootMargin:s,threshold:n,trackVisibility:o,delay:i},h))}),[Array.isArray(n)?n.toString():n,a,s,l,u,o,h,i]);(0,r.useEffect)((function(){f.current||!v.entry||l||u||b({inView:!!d})}));var g=[y,v.inView,v.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}p.displayName="InView",p.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}}},function(e){e.O(0,[9774,2888,179],(function(){return t=88691,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
